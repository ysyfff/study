<html>
<head>
</head>
<body>
<script type="text/javascript">
//windown-->BOM's Core-->EMCAScript's Global and JS's interface for brower

</script>
<script type="text/javascript">
//DOM

/*
node
ELEMENT_NODE 1
ATTRIBUTE_NODE 2
TEXT_NODE 3
CDATA_SECTION_NODE 4
DOCUMENT_NODE 9

*/
function converToArray(nodes){ //convert nodelist to array
	var array = null;
	try{
		array = Array.prototype.slice.call(nodes, 0);
	}catch(ex){
		array = new Array();
		for(var i=0, len=nodes.length; i<len; i++){
			array.push(nodes[i]);
		}
	}
	return array;
}
/*
document 
-->nodetype 9
document.documentElement; //html
document.body;            //body
document.doctype;         //doctype
document.title;           //title
document.URL;
document.domain;
document.getElementById;
*/
/*
element 
-->nodetype 1
(div.tagName = div.nodeName).toLowerCase() = "DIV"
div.id
div.className
div.title
div.lang
div.dir
div.getAttribute('id')
div.setAttribute('id', 'hehe');
element.attributes['id'].nodeValue = element.attributes.getNamedItem('id').nodeValue
*/
function outputAttributes(el){ //
	var pairs = new Array(),
		attrName,
		attrValue,
		i,
		len;

	for(i=0, len=el.attributes.length; i<len; i++){
		attrNmae = el.attributes[i].nodeName;
		attrValue = el.attributes[i].nodeValue;
		if(el.attributes.specified){ //for ie7
			pairs.push(attrName + "=\"" + attrValue + "\"");
		}
	}
	return pairs.join(" ");
}
//check text node
for(var i=0, len=element.childNodes.length; i<len; i++){
	if(element.childNodes[i].nodeType==1){ //conform that it is an element
		//do something
	}
}
/*
style
div.style.backgroundColor = 'red';
div.style.width = "100px";
div.style.height = "200px";
div.style.border = "1px solid blue";
div.style.cssText ="width:10px;height:20px;";
*/
function getElementLeft(el){ //get el's left offset
	var actualLeft = el.offsetLeft;
	var current = el.offsetParent;

	while(current !== null){
		actualLeft += current.offsetLeft;
		current = current.offsetParent;
	}

	return actualLeft;
}
function getElementTop(el){ //get el's top offset
	var actualTop = el.offsetTop;
	var current = el.offsetParent;

	while(current !== null){
		actualTop += current.offsetTop;
		current = current.offsetParent;
	}
}
function getViewport(){
	if(document.compatMode == 'BackCompat'){
		return { //quirk mode
			width:document.body.clientWidth,
			height: document.body.clientHeight
		}else{ //standard mode
			return {
				width: document.documentElement.clientWidth,
				height: document.documentElement.clientHeight
			}
		}
	}
}

var docHeight = Math.max(document.documentElement.scrollHeight,
						 document.documentElement.clientHeight);
var docWidth = Math.max(document.documentElement.scrollWidth,
						 document.documentElement.clientWidth);

/*
DOM0
*/
document.getElementById('he').onclick=function(){
	alert(this.id); //this means document.getElementId('he')
}
/*
DOM2
*/
var $ = {
	addHandler: function(el, ty, hl){
		if(el.addEventListener){
			el.addEventListener(ty, hl, false);//false mean 冒泡阶段处理事件
		}else if(el.attachEvent){
			el.attachEvent('on'+ty, hl);
		}else{
			el['on'+type] = hl;
		}
	},
	rmHandler: function(el, ty, hl){
		if(el.removeEventListener){
			el.removeEventListener(ty, hl, false);
		}else if(el.detachEvent){
			el.detachEvent('on'+type, hl);
		}else{
			el['on'+ty] = null;
		}
	}
};
</script>
</body>
</html>
